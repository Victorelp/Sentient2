import{r as f,o as a,c as i,a as e,u as p,F as y,b as m,d as g,t as u}from"./index-aa27a6b3.js";const x={class:"directorios"},v={class:"table"},b=e("thead",null,[e("tr",null,[e("th",null,"Watch"),e("th",null,"Excluded"),e("th",null,"Name"),e("th",null,"Path")])],-1),D=["checked","onClick"],P=["checked","onClick"],V=["onClick"],B={key:0,xmlns:"http://www.w3.org/2000/svg",width:"50",height:"50",viewBox:"0 0 512 512"},C=e("title",null,"ionicons-v5-n",-1),E=e("path",{d:"M440,432H72a40,40,0,0,1-40-40V120A40,40,0,0,1,72,80h75.89a40,40,0,0,1,22.19,6.72l27.84,18.56A40,40,0,0,0,220.11,112H440a40,40,0,0,1,40,40V392A40,40,0,0,1,440,432Z",style:{fill:"none",stroke:"#000","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32px"}},null,-1),N=e("line",{x1:"32",y1:"192",x2:"480",y2:"192",style:{fill:"none",stroke:"#000","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32px"}},null,-1),S=[C,E,N],A={key:1,xmlns:"http://www.w3.org/2000/svg",width:"50",height:"50",viewBox:"0 0 512 512"},F=e("title",null,"ionicons-v5-e",-1),j=e("path",{d:"M416,221.25V416a48,48,0,0,1-48,48H144a48,48,0,0,1-48-48V96a48,48,0,0,1,48-48h98.75a32,32,0,0,1,22.62,9.37L406.63,198.63A32,32,0,0,1,416,221.25Z",style:{fill:"none",stroke:"#000","stroke-linejoin":"round","stroke-width":"32px"}},null,-1),H=e("path",{d:"M256,56V176a32,32,0,0,0,32,32H408",style:{fill:"none",stroke:"#000","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32px"}},null,-1),O=[F,j,H],M={__name:"DirectoriosView",setup(T){var l=f([]),d="";async function c(o){const n=new FormData;var t="";o!=""&&o.charAt(o.length-1)!="/"&&(t=o+"/"),d=t,n.append("info",t);try{await fetch("/web/sentient/api/dir",{method:"POST",body:n})}catch(r){console.log("Error en el servidor: "+r)}h()}function h(){try{fetch("/web/sentient/api/dir").then(o=>o.text()).then(o=>{l.value=JSON.parse(o)})}catch(o){console.log(o)}}h();function _(o){const n=new String(o).split("/");var t="";for(let r=0;r<n.length-2;r++)r<n.length-3?t+=n[r]+"/":t+=n[r];return t}async function k(o,n){const t=new FormData;t.append("path",n.Path),t.append("name",n.Name),t.append("isdir",n.IsDir),t.append("watch",o.target.checked),t.append("excluded",n.Excluded);try{await fetch("/web/sentient/api/dir/add",{method:"POST",body:t})}catch(r){console.log("Error en el servidor: "+r)}}async function w(o,n){const t=new FormData;t.append("path",n.Path),t.append("name",n.Name),t.append("isdir",n.IsDir),t.append("watch","false"),t.append("excluded",o.target.checked);try{await fetch("/web/sentient/api/dir/add",{method:"POST",body:t})}catch(r){console.log("Error en el servidor: "+r)}}return(o,n)=>(a(),i("div",x,[e("div",{class:"btn btn-primary",role:"button",onClick:n[0]||(n[0]=t=>c(_(p(d))))},"Back"),e("table",v,[b,e("tbody",null,[(a(!0),i(y,null,m(p(l),(t,r)=>(a(),i("tr",{key:r,id:"tbDir"},[e("td",null,[e("input",{type:"checkbox",checked:t.Watching,onClick:s=>k(s,t)},null,8,D)]),e("td",null,[e("input",{type:"checkbox",checked:t.Excluded,onClick:s=>w(s,t)},null,8,P)]),e("td",{role:"button",onClick:s=>c(t.Path)},[t.IsDir?(a(),i("svg",B,S)):(a(),i("svg",A,O)),g(" "+u(t.Name),1)],8,V),e("td",null,u(t.Path),1)]))),128))])])]))}};export{M as default};
